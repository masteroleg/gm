---
stepsCompleted:
  - step-01-init
  - step-02-discovery
  - step-02c-executive-summary
  - step-03-success
  - step-04-journeys
  - step-05-domain
  - step-06-innovation
  - step-07-project-type
  - step-08-scoping
  - step-09-functional
  - step-10-nonfunctional
  - step-11-polish
inputDocuments:
  - _bmad-output/planning-artifacts/product-brief-gm-2026-02-23.md
  - _bmad-output/project-context.md
  - _bmad-output/design-thinking-2026-02-23.md
  - _bmad-output/problem-solution-2026-02-23.md
  - AGENTS.md
  - CLAUDE.md
documentCounts:
  briefCount: 1
  researchCount: 0
  brainstormingCount: 2
  projectDocsCount: 3
classification:
  projectType: web_app
  domain: general
  complexity: low-medium
  projectContext: brownfield
visionInsights:
  positioning:
    coreMove: "Лендинг не просит верить: он ведет в действие 'посмотреть пример проверки' (в /v/genuim), где доверие формируется через опыт проверки, а не через слова."
    noCertShield: "Важно явно снять ожидание сертификации: 'Это не сертификат и не экспертная оценка. Это результат проверки по коду из системы маркировки.'"
  differentiators:
    - "Proof-first: /v/genuim как главный путь доверия (опыт проверки), а не 'картинка-превью' на лендинге."
    - "Минимум техно-терминов на первом экране; смысл через действия и ясные обещания."
    - "Масштаб как доказательство надежности: 25M+ только вместе с 'что именно считаем' и 'почему это важно'."
  messagingHardening:
    avoidTerms:
      - "протокол"
      - "статусы"
      - "события"
      - "паспорт"
    landingFocus:
      - "что делаем: маркировка кодом + проверка по коду"
      - "как доверять: primary CTA 'Посмотреть пример проверки' → /v/genuim"
      - "почему это не фейк: масштаб + фактичность + четкие ограничения"
  seoExpansion (epic2a):
    principle: "Не 'блог ради блога', а раздел доверия/знаний; сейчас только предусмотреть место, навигацию и URL-структуру."
    contentPillars:
      - "Как читать проверку по коду (для закупки/партнера)"
      - "Вопросы закупки (FAQ чеклистом)"
      - "eAkciz: что меняется для производителя (спокойно, без мимикрии)"
      - "Чеклисты внедрения маркировки на линии без остановок"
firstPrinciples:
  trustModel:
    - "Доверие в B2B = проверяемость + ясные границы ответственности + отсутствие пафоса."
    - "Лендинг не обязан 'доказать'; он обязан привести в действие проверки и вернуть к CTA."
    - "Числа/факты работают только в рамке смысла: что считаем и почему это важно."
  minimumConvincingSet:
    landing:
      primaryCTA: "Посмотреть пример проверки"  # ведет на /v/genuim
      whatItIs: "Маркировка уникальным кодом + проверка подлинности по коду."
      boundary: "Не сертификат и не экспертиза — результат проверки по коду из системы маркировки."
      proofScalePattern: "25M+ (только с уточнением метрики и смыслом 'масштаб работы контура')"
    epic2aSeo:
      principle: "Контент усиливает проверяемость (как читать проверку, вопросы закупки), а не 'новости ради новостей'."
feynmanLanguage:
  goldenRules:
    - "Запрещаем техно-лексику в hero; говорим простыми словами: код → проверка."
    - "Всегда держим границу: не сертификат/не экспертиза, а факт по коду из системы маркировки."
    - "Доверие через действие: 'посмотреть пример проверки' ведет на /v/genuim."
  plainExplanation:
    - "На продукт наносится уникальный код."
    - "Мы помогаем надежно нанести этот код на производстве."
    - "По коду можно открыть страницу и увидеть результат проверки подлинности."
    - "Это не сертификат качества и не экспертиза — это результат проверки по коду из системы маркировки."
eakcizMessaging:
  audience: "Производители/комплаенс, готовящиеся к eAkciz (без заявлений 'официально' или 'сертифицировано')."
  messageGoals:
    - "Снять страх 'штрафы/остановка линии/хаос в данных' через тон 'без сюрпризов'."
    - "Обещать только проверяемое: прозрачность, учет, факт по коду, масштаб, дисциплина процесса."
  landingBlocks:
    - "eAkciz-ready контур маркировки: спокойно, предсказуемо, без сюрпризов."
    - "Проверяемость по коду: партнер/закупка видит результат по ссылке, без ручных объяснений."
    - "Масштаб: 25M+ (с обязательным уточнением, что именно считается) как сигнал устойчивости процесса."
  disclaimers:
    - "Не заменяет сертификацию/экспертизу; показывает факт проверки по коду из системы маркировки."
sharkTankHardening:
  skepticAttacks:
    - "Путают с сертификацией: где границы ответственности?"
    - "25M+ без определения метрики выглядит как 'магическое число'."
    - "Почему верить 'результату проверки', если это ваш сайт?"
    - "Чем отличаетесь от принтеров/подрядчиков/порталов?"
    - "eAkciz-аудитория хочет официальности; вы не гос." 
    - "SEO-блог ради трафика не усиливает доверие."
  requiredReinforcements:
    boundaryLine: "Не сертификат и не экспертиза — результат проверки по коду из системы маркировки."
    proofAction: "Primary CTA на лендинге: 'Посмотреть пример проверки' → /v/genuim (доверие через опыт)."
    scaleRule: "25M+ всегда с определением 'что именно считаем' + фразой 'почему это важно' (масштаб/устойчивость)."
    differentiation: "Отличие: отвечаем за контур 'код нанесен → по коду можно проверить', а не за отдельное устройство/подрядчика."
    eakcizTone: "Без 'официально': 'без сюрпризов', предсказуемость, учет, проверяемость по коду + дисклеймер."
    seoRule: "Epic 2a = база доверия (как читать проверку, вопросы закупки, eAkciz, чеклисты внедрения), не новости ради новостей."
workflowType: prd
project_name: gm
user_name: GenuIm
date: 2026-02-23
---

# Product Requirements Document - gm

**Author:** GenuIm
**Date:** 2026-02-23

## Executive Summary

genu.im — витрина контура genu.mark: маркировка уникальным кодом + прозрачность/проверяемость по коду для производителей в Украине. Цель MVP (Epic 1) — за один экран дать ясный ответ “что это / почему это надежно / что делать дальше” и привести пользователя в действие “посмотреть пример”: основной CTA на лендинге ведет на `/v/genuim`, где доверие формируется через опыт просмотра результата (а не через обещания на лендинге).

Продуктовая позиция строится на проверяемости и честных границах ответственности: genu.im не является сертификационным центром и не выдает экспертных заключений; система показывает данные/результат по коду только в пределах контура genu.mark (нет данных → нет утверждений). Масштаб используется как сигнал устойчивости контура (25M+ — только с явным определением, что именно считается, и объяснением “почему это важно” для надежности).

Для eAkciz важно разделение ролей: официальный consumer-check живет в Diia, а genu.im не имитирует и не подменяет государственный сервис. Для производителей genu.mark закрывает производственный контур маркировки и данных, а поверх обязательного кода дает “страницу прозрачности бренда” (факты/документы/sustainability) — только если код в genu.mark.

В Phase 1 в рамках этого PRD реализуем “сверстанные моки” ключевых путей `/v/`, `/v/genuim`, `/v/{code}` (с состояниями `in_genu_mark`/`not_in_genu_mark`) для пресейла и проверки концепта. Реальный lookup через API — Phase 3.

Для органического роста предусмотрено расширение Epic 2a: раздел “база доверия/знаний” с заранее заложенной структурой навигации и URL, ориентированный на high-intent запросы ICP (АЕД/УГІ/API/економічний оператор; DataMatrix на линии; внедрение маркировки).

### What Makes This Special

- Доверие строится через действие: лендинг не просит “поверить”, а ведет в “посмотреть пример проверки” (`/v/genuim`), где пользователь сам оценивает результат проверки.
- Минимум техно-терминов в первом экране; понятная модель “код → проверка”, с обязательным “не сертификат/не экспертиза” щитом против неверных ожиданий.
- Дифференциация без vendor-парада: ответственность за контур “код нанесен → по коду можно проверить”, а не за отдельное устройство/подрядчика.
- Epic 2a заложен как “база доверия”, усиливающая проверяемость и продажи, а не как “блог ради трафика”.

## Project Classification

Project Type: web_app  
Domain: general (B2B marketing/позиционирование вокруг маркировки+проверки по коду)  
Complexity: low-medium  
Project Context: brownfield

## Success Criteria

### User Success

- B2B посетитель (COO/Compliance/Engineer/Marketing) за 10 секунд первого экрана может своими словами ответить: “что это”, “почему доверять”, “что сделать дальше”.
- Пользователь понимает границы: genu.im не является сертификацией/экспертизой; система показывает результат проверки по коду из контура маркировки.
- Доверие формируется действием: пользователь нажимает “Посмотреть пример проверки” → `/v/genuim`, понимает “что подтверждается”, и возвращается к запросу демо/контакту без ручных объяснений.
- Пользователь различает две мотивации (eAkciz-ready vs voluntary brand protection) и видит следующий шаг для каждого.

### Business Success

- Рост qualified demo requests от производителей (baseline → +X% за 3 месяца).
- 1–3 пилотных запроса по eAkciz-ветке в первые 3 месяца после релиза витрины.
- Proof-first работает как продажный touchpoint: измеряемая цепочка `landing → /v/genuim → return → CTA`.
- Epic 2a (SEO) приводит качественный вход: органика, которая доходит до `/v/genuim` и возвращается к CTA (а не “трафик ради трафика”).

**Definitions**

- **Qualified demo request**: валидный контакт + компания-производитель (или интегратор/IT у производителя) + выбран режим (eAkciz/voluntary) + краткое описание контекста (линия/объем/сроки).
- **Baseline**: фиксируем за 1–2 недели на текущей версии (или первые 1–2 недели после релиза как стартовую точку, если “до” измерений нет).

### Technical Success

- Performance/Trust gates: выполнены Performance NFRs (Lighthouse Performance >= 97 и Core Web Vitals targets).
- Accessibility gate: выполнены Accessibility NFRs (WCAG 2.1 AA и Lighthouse Accessibility >= 97).
- i18n и хранение предпочтений: UK first, EN second; переключатели и тексты работают стабильно.
- Измеримость proof-first как часть MVP: аналитические события для CTA/веток/возврата (см. ниже).
- Архитектурная готовность к Epic 2a: предусмотрены место в навигации и URL-структура под “базу доверия/знаний” без ломки IA.

### Measurable Outcomes

- ≥70% респондентов ICP после 10 секунд первого экрана корректно отвечают на 3 вопроса: (1) что это, (2) почему доверять, (3) что делать дальше.
- CTR на “Посмотреть пример проверки” (`/v/genuim`) и доля возврата на CTA после `/v/genuim` (целевые значения задаем после baseline).
- Конверсия landing → demo (CR %) выше baseline (целевое значение задаем после baseline).

**Analytics Events (Phase 2, planned)**

- `cta_view_example` (клик “Посмотреть пример проверки”)
- `cta_request_demo` (клик/submit запроса демо)
- `return_from_verification` (возврат на лендинг после `/v/genuim`)
- `mode_eakciz_select` / `mode_voluntary_select` (выбор ветки)

## Product Scope & Phased Development

### Phase 1 (MVP): Experience MVP (static MPA + mocks)

- Витрина/лендинг (Epic 1) как главный фокус: proof-first, две ветки eAkciz/voluntary с четкими выгодами и CTA; явное разделение ролей (Diia = официальный минимум; genu.mark = прозрачность бренда только для наших кодов).
- Primary CTA “посмотреть пример” → `/v/genuim` (mock).
- `/v/` paste-first (mock): ввод/вставка DataMatrix + “вставить пример кода” для демонстрации.
- `/v/{code}` (mock) состояния:

  - `in_genu_mark`: карточка прозрачности с разделением источников (`source`) и evidence для sustainability.
  - `not_in_genu_mark`: нейтрально “нет данных” + “официальная проверка в Diia” + “что могло бы быть” + CTA “включить genu.mark”.

- Честное обозначение “демонстрация интерфейса” на моках проверки (чтобы не выглядело как фейк).
- Форма запроса (demo/request) с минимальной квалификацией: контакт + сценарий + контекст.
- SEO фундамент: meta title/description, OG/Twitter, canonical, hreflang UK/EN, JSON-LD, sitemap.xml, robots.txt.
- Quality gates: WCAG 2.1 AA + Lighthouse Performance/Accessibility >= 97.

### Phase 2 (Growth): Epic 2a Knowledge Base + Analytics
### BMAD Official Status Handling (Phases 1–3)
- Official BMAD approach uses bmad-help as the single source of status for Phases 1–3.
- Phase 1–3: Use the bmad-help workflow to determine the next required steps and progress state.
- Phase 4: Use sprint-status.yaml to record sprint progress and readiness.
- No separate prd-status.yaml is part of the official BMAD schema.
- PRD status is tracked via frontmatter stepsCompleted and the produced artifacts.

- Knowledge base IA/URL: `/knowledge/` + шаблон страницы (оглавление, “для кого”, FAQ, CTA).
- Стартовые страницы (по SEO Priority Matrix):

  - АЕД: что это + типовые ошибки + чеклист
  - УГІ: зачем + типовые ошибки
  - DataMatrix на линии: чеклист внедрения/печати
  - Экономічний оператор: “что подготовить” (без имитации гос-портала)
  - Прозрачность бренда поверх кода: правила source/visibility/evidence/sustainability

- Контентные правила: “нет данных → нет утверждений”, sustainability только с evidence, запрет “официально/сертифицировано”.
- Analytics: события (CTA, выбор сценария, lookup outcomes, upsell CTA) и отчеты/воронки.

### Phase 3 (Expansion): Real Lookup + B2B Private Layer

- Интеграция с вашим API для реального lookup (`/v/` и `/v/{code}`).
- B2B private слой (если нужно): задания/результаты/расследования под auth + audit/RBAC.
- iOS Safari/Safari поддержка (вместе с Epic 3+).

### Out of Scope (this PRD)

- Epic 3: B2B портал (отдельный PRD).

### Risk Mitigation (MVP)

- Consumer-трафик “проверить акцизную марку онлайн” → перехватывающая страница → Diia + B2B CTA.
- DataMatrix friction → deep-link + paste-first UX.
- Репутация/greenwashing → sustainability только с evidence.

## User Journeys

### Journey 1 — Партнер по оборудованию (Domino/Markem-Imaje тип): “продает маркировку, усиливает сделку контуром”

Opening Scene: Партнер продает оборудование/интеграцию для маркировки. Его задача — продать маркировку как устойчивый контур (а не как “принтер”).

Rising Action: Он отправляет витрину genu.im как опору для продаж и “поддержки позиции”: две ветки (eAkciz / voluntary), тон “без сюрпризов”, ясные границы (не сертификация).

Climax: Клиент понимает разделение ролей: официальная consumer-проверка eAkciz — в Diia; genu.mark/genu.im — надежное нанесение кода на линии + дисциплина производственных данных/отчетности. Для voluntary клиентов поверх кода появляется “страница прозрачности бренда” (данные от производителя), которой нет в гос-проверке.

Resolution: Клиент оставляет qualified запрос на демо/внедрение (режим + контекст линии/сроки). Партнер использует “что теряют без genu.mark” как аргумент в сделке.

### Journey 2 — Производитель eAkciz (COO/Compliance): “минимум риска, максимум предсказуемости”

Opening Scene: Производитель готовится к eAkciz и боится остановки линии, хаоса в данных и штрафных рисков.

Rising Action: Он читает лендинг и ищет: (1) кто за что отвечает, (2) что делает контур маркировки на линии, (3) какие данные/отчеты доступны для контроля и расследований.

Climax: Он получает ясность: потребительская eAkciz-проверка — в Diia; при этом genu.im может давать B2B-проверку/поиск кода по производственным данным (операционный контроль, расследования, сверка отчетности). Никаких обещаний “официальной сертификации”.

Resolution: Он запрашивает демо, подключает инженера/IT, и оценивает “без сюрпризов” по процессу и данным.

### Journey 3 — Производитель/импортер voluntary (бренд/маркетинг): “прозрачность как коммуникация”

Opening Scene: Бренду нужна пересылаемая коммуникация доверия, которой нет в гос-проверке: что за продукт, кем/когда сделан, происхождение, инструкции, sustainability-факты.

Rising Action: Он читает витрину, понимает модель “код → прозрачность”, и видит, что это не заменяет государственную проверку, а добавляет слой прозрачности от бренда.

Climax: Он открывает `/v/genuim` как пример “страницы прозрачности бренда” (данные предоставлены производителем; без слов “сертифицировано/официально”).

Resolution: Он возвращается и запрашивает демо на voluntary, чтобы получить “карточку прозрачности” как маркетинговый/партнерский артефакт.

### Journey 4 — Скептик (закупка/аудит/партнер): “код не в genu.mark” (edge case + upsell)

Opening Scene: Пользователь попадает на `/v/{code}` с кодом, который не принадлежит контуру genu.mark (или по нему нет данных бренда в genu.im).

Rising Action: Он ожидает либо “самозванство под гос”, либо пустую маркетинговую страницу.

Climax: Страница отвечает нейтрально и полезно:

- По этому коду нет данных прозрачности бренда в genu.im
- Официальная eAkciz-проверка — в Diia
- Что могло бы быть здесь, если код нанесен в genu.mark (перечень фактических блоков: партия/дата/производитель/импортер/документы/инструкции/sustainability)
- CTA: включить прозрачность по коду (genu.mark)

Resolution: Скептик либо уходит, либо становится лидом (просит включить “такие же данные” для своего продукта).

### Journey Requirements Summary

- Разделение ролей обязано быть явным: Diia = официальная eAkciz-проверка; genu.im = прозрачность бренда и/или B2B-контроль по производственным данным (не сертификация).
- “Прозрачность бренда” доступна только если код в контуре genu.mark (или бренд предоставил данные в контур): иначе `/v/{code}` показывает нейтральное “данных нет” + upsell.
- `/v/{code}` должен поддерживать состояния: `in_genu_mark` (есть данные бренда/контур) и `not_in_genu_mark` (витрина потери).
- Sustainability-контент допускается только как факты с источниками/документами, иначе риск greenwashing.
- **Техническая задача (для последующей реализации):** DataMatrix содержит только символы и не несет URL. Требуется UX и техническое решение для “проверки/поиска по коду”:

  - Вариант A: страница ввода/вставки кода (`/v/`), которая вызывает API по введенному DataMatrix
  - Вариант B: deep-link через query param (код в URL через `encodeURIComponent` или безопасное кодирование), чтобы партнер мог переслать ссылку
  - Вариант C: web-сканер DataMatrix в браузере (если технически оправдано)

  Нужно выбрать вариант(ы), описать ограничения, и зафиксировать подход в Domain Requirements.

## Domain-Specific Requirements

### Compliance & Regulatory

- Разделение ролей обязано быть явным: официальная consumer-проверка eAkciz — в Diia; genu.im не является гос-проверкой, сертификацией или экспертизой.
- Обязательный дисклеймер на страницах результата/прозрачности: “не сертификат/не экспертиза”; публичные данные трактуются как “данные бренда” и/или “данные из контура маркировки genu.mark”.
- Политика “нет данных → нет утверждений”: если код не в контуре genu.mark, genu.im не делает выводов о подлинности и не “знает” ничего про этот DataMatrix, кроме того, что он не найден в нашем контуре.
- Sustainability-контент допускается только как проверяемые факты с источником/документом (иначе риск greenwashing и репутационные потери).

### Technical Constraints

- **Доменное правило данных:** API/lookup работает только для продукции, промаркированной в контуре genu.mark. Для сторонней маркировки система возвращает состояние `not_in_genu_mark`/`not_found`.
- **DataMatrix не содержит URL:** нужен UX “проверка/поиск по коду” через (1) ввод/вставку кода, и/или (2) deep-link (код в URL как параметр) для пересылки.
- **Deep-link допустим**: ссылка содержит DataMatrix как параметр (через безопасное кодирование). Это снижает трение (не нужно “вставлять код”), повышает shareability партнеров и позволяет измерять воронку.
- **Public API** логичен для “карточки прозрачности”, но должен быть ограничен до публичных полей и поддерживать только состояния `in_genu_mark` и `not_in_genu_mark`.
- **Private API** (если/когда нужно): производственные задания/результаты, расследования, сверка отчетности — только под авторизацией + аудит + RBAC.

### Integration Requirements

- API lookup по коду: `code → данные` (единственная точка правды для кодов genu.mark).
- Источники данных “прозрачности”: ERP/MES/производственные системы клиента (по соглашению), а также контур genu.mark (как источник факта маркировки).
- В UX/копирайте запрещена имитация/подмена Diia; любые упоминания Diia — как внешнего официального канала.

### Risk Mitigations

- Риск путаницы с сертификацией: явные границы ответственности + запрет на “официальные” формулировки.
- Риск “магических цифр”: 25M+ только с определением метрики и смыслом (“что считаем” и “почему это важно”).
- Риск фрикции DataMatrix: paste-first UX + deep-link как основной путь пересылки/пресейла.
- Риск “код не наш”: состояние `not_in_genu_mark` оформляется нейтрально (нет данных) и используется как upsell “что вы теряете без genu.mark”.

## Innovation & Novel Patterns

### Innovation in One Screen (for Marketing / Partners / Skeptics)

- **eAkciz minimum (official):** consumer-check живет в Diia.
- **Brand maximum (differentiator):** если код нанесен в **genu.mark**, этот же обязательный DataMatrix становится “страницей прозрачности бренда” (факты/документы/происхождение/sustainability) — то, чего нет в гос-проверке.
- **Trust boundary:** если код **не** из genu.mark, genu.im **ничего не утверждает** и показывает `not_in_genu_mark` (нет данных → нет заявлений), плюс “что вы теряете” и CTA подключиться.

### Detected Innovation Areas (Product/UX)

1) **State minimum → Brand maximum**

- Превращаем обязательную маркировку (cost center) в актив доверия и продаж (value center) для бренда.

2) **Proof-first без дополнительного QR**

- DataMatrix не несет URL, поэтому shareability делаем deep-link’ом (URL содержит код параметром) + paste-first fallback.
- `/v/{code}` — ключевой touchpoint, включая “витрину потери” для `not_in_genu_mark`.

### Extensible Transparency Payload (Engineering-Grade Requirements)

#### Data Model (MUST)

- Payload хранится только для кодов **в контуре genu.mark**.
- Каждое поле MUST:

  - `source`: `genu_mark` | `brand` | `document`
  - `visibility`: `public` | `partner_only` | `internal`
  - `data_type`: `text` | `number` | `date` | `url` | `file` | `list` | `json`
  - `evidence` (optional; MUST for sustainability)

- Каждая секция SHOULD: `title`, `order`, `last_updated_at`, `language` (для i18n).

#### Default Public Skeleton (SHOULD, если передано/доступно)

- Партия + дата производства/розлива
- Производитель и/или импортер (юридически корректное имя)

#### Extensible Sections (MUST: только если переданы)

- Документы/ссылки (декларации/инструкции/PDF/первоисточники)
- Sustainability: только факты + MUST `evidence` (иначе секция скрывается)
- Любые доп. поля бренда, если проходят safety rules

#### Content & Safety Rules (MUST)

- Запрет “сертификации/официальности”: нельзя “официально”, “сертифицировано”, “подтверждено государством” без основания.
- Запрет PII: персональные данные отклоняются или принудительно `internal`.
- Политика честности: “нет данных → нет утверждений”; отсутствие секции не компенсируется маркетинговыми текстами.
- UI MUST различать источники:

  - “Подтверждено контуром genu.mark” (source=genu_mark)
  - “Предоставлено брендом” (source=brand) + evidence (если есть)

#### Rendering & States (MUST)

- `/v/{code}` MUST:

  - `in_genu_mark`: показывает карточку прозрачности (public) + опционально private детали под auth
  - `not_in_genu_mark`: нейтральное “нет данных в genu.mark” + “официальная проверка eAkciz — в Diia” + “что могло бы быть” + CTA “включить прозрачность (genu.mark)”

- Секции без данных MUST быть скрыты (без пустых заглушек).
- Каждое поле/секция MUST показывать `source` и `evidence` (если есть).

### Validation Approach (Mocks, Epic 2b)

- Макеты: лендинг + `/v/genuim` + `/v/{code}` (`in_genu_mark` / `not_in_genu_mark`).
- Проверка на ICP: люди должны корректно разделять Diia (официальный минимум) vs genu.mark (прозрачность бренда), и понимать “данные только если код наш”.

### Risk Mitigation

- Greenwashing: sustainability только с evidence; иначе скрывать
- DataMatrix friction: deep-link + paste-first UX
- Репутационный риск: жесткое `not_in_genu_mark` + нейтральный тон + upsell без обвинений

## web_app Specific Requirements

### Project-Type Overview

- MVP витрина = статический MPA (GitHub Pages). SSR не используется на MVP (нет серверного рантайма; рост сложности/риска не оправдан).
- Основные маршруты: `/` (витрина), `/v/` (paste-first ввод DataMatrix), `/v/{code}` (deep-link), резерв под Epic 2a: `/knowledge/…`.

### Technical Architecture Considerations

- Стек: static HTML + JS (defer) + Tailwind v4, i18n (UK first, EN second).
- Real-time: не требуется.
- `/v/{code}` MUST: состояния `in_genu_mark` и `not_in_genu_mark` (см. Innovation/Domain rules).
- Deep-link: допустим; код передается параметром и кодируется безопасно.

### browser_matrix

- Must support (MVP): Chrome / Edge / Firefox.
- iOS Safari + Safari (macOS): вне MVP (Epic 3+). Risk noted: часть пересылок в мессенджерах будет открываться на iPhone; MVP должен иметь paste-first UX и максимально “простую” страницу lookup без хрупких зависимостей.

### performance_targets

- LCP < 2.5s; CLS < 0.1 (MUST).
- Lighthouse Performance ≥ 97 (MUST).
- Lighthouse Accessibility ≥ 97 + WCAG 2.1 AA (MUST).

### seo_strategy (Research-Based, B2B-lead intent)

Цель SEO: лиды от экономических операторов/партнеров (производитель/импортер/интегратор/оборудование), а не consumer-трафик.

**Observed query language (Google suggest + xtrace terms):**

- eAkciz: “еАкциз”, “електронна акцизна марка”, “економічні оператори”, “DataMatrix”, “АЕД”, “УГІ”, “кабінет”, “реєстрація”, “API”, “Postman”
- Production: “маркування DataMatrix”, “друк DataMatrix”, “печать datamatrix”, “внедрение маркировки datamatrix”
- Consumer: “перевірити акцизну марку”, “перевірити … онлайн”, “перевірити … дія” (высокий спрос, но не наша primary цель)

**SEO Scope Rule (MUST):**

- Не позиционируемся как consumer-сервис “проверить акцизную марку онлайн”.
- Вместо этого создаем 1 “перехватывающую” страницу для consumer-intent, которая:

  - честно направляет к Diia как к официальному consumer-check
  - объясняет B2B ценность: маркировка/данные/без сюрпризов/прозрачность бренда (только для genu.mark)
  - ведет в B2B CTA

**Priority keyword clusters (MVP/Epic 2a):**

1) B2B eAkciz high-intent:

- “економічний оператор еАкциз”
- “реєстрація еАкциз”
- “кабінет еАкциз”
- “акцизний електронний документ АЕД”
- “унікальний груповий ідентифікатор УГІ”
- “еАкциз API” / “Postman еАкциз”

2) Production/integration:

- “маркування алкоголю еАкциз”
- “маркування тютюну еАкциз”
- “маркування DataMatrix”
- “друк DataMatrix”
- “печать datamatrix”
- “внедрение маркировки datamatrix”

**SEO Priority Matrix (decision rule):**

- Primary pillars: (A) АЕД/УГІ/API/економічний оператор, (B) маркировка алкоголя/тютюна eAkciz, (C) DataMatrix на линии/внедрение.
- Consumer-проверка: только “перехват” → Diia + B2B CTA.
- Метрика успеха SEO: не трафик, а доля органики, которая доходит до B2B CTA (и/или до `/v/` paste-first / demo request).

**Epic 2a (knowledge base) MUST map to clusters:**

- АЕД: что это, типовые ошибки, чеклисты
- УГІ: зачем, типовые ошибки
- DataMatrix на линии: чеклист внедрения
- Экономический оператор: ориентиры “что подготовить” (без имитации гос-портала)
- Прозрачность бренда поверх кода: правила источников/доказательств/sustainability

### Security / Abuse constraints (web_app + public lookup)

- Public lookup по коду MUST иметь защиту от злоупотреблений: rate limiting, anti-enumeration, кеширование, и быстрый “not_in_genu_mark” ответ без утечек.



## Functional Requirements

### Навигация, язык, тема

- FR1 [P1]: Посетитель может переключать язык (UK/EN) на ключевых страницах витрины.
- FR2 [P1]: Система может сохранять выбранный язык и применять его при последующих посещениях.
- FR3 [P1]: Посетитель может переключать тему (светлая/темная) на ключевых страницах витрины.
- FR4 [P1]: Система может сохранять выбранную тему и применять ее при последующих посещениях.

### Витрина и ветки сценариев (eAkciz / voluntary)

- FR5 [P1]: Посетитель может выбрать/переключить сценарий “eAkciz” или “voluntary” и увидеть соответствующие сообщения.
- FR6 [P1]: Посетитель может увидеть явное разделение ролей: официальный consumer-check (Diia) vs возможности genu.mark/genu.im (без заявлений сертификации/гос-статуса).
- FR7 [P1]: Посетитель может перейти по основному CTA к демонстрации опыта проверки/прозрачности (`/v/genuim`).

### Демонстрация проверки и ввод DataMatrix (mock-first)

- FR8 [P1]: Посетитель может открыть страницу ввода кода (`/v/`) и отправить значение DataMatrix для получения результата (в demo/mock режиме).
- FR9 [P1]: Посетитель может подставить “пример кода” для демонстрации без ручного набора/сканера.
- FR10 [P1]: Посетитель может открыть страницу результата по пересылаемой ссылке (deep-link), представляющей конкретный код.
- FR11 [P1]: Система может явно сообщить, что интерфейс проверки работает в демонстрационном режиме (без интеграции с API) там, где это применимо.

### Состояния результата и trust boundary (только genu.mark)

- FR12 [P1]: Система может отобразить состояние результата `in_genu_mark` для демонстрации “код в контуре genu.mark”.
- FR13 [P1]: Система может отобразить состояние результата `not_in_genu_mark` как нейтральное “нет данных в genu.mark” без утверждений о подлинности/легальности.
- FR14 [P1]: Система может показать в `not_in_genu_mark` “что могло бы быть” (перечень доступных секций прозрачности) и CTA “включить genu.mark”.

### Карточка прозрачности (public) + источники/доказательства

- FR15 [P1]: Посетитель может просмотреть публичную “карточку прозрачности” для `in_genu_mark`.
- FR16 [P1]: Система может разделять отображаемые данные по источнику: подтверждено контуром genu.mark vs предоставлено брендом vs документ/ссылка.
- FR17 [P1]: Система может отображать секции/поля прозрачности только при наличии данных (нет данных → секция отсутствует).
- FR18 [P1]: Система может отображать `evidence` (ссылку/документ) для данных, где оно предоставлено.
- FR19 [P1]: Система может скрывать sustainability-секцию, если отсутствует требуемое доказательство (`evidence`).
- FR20 [P2]: Бренд/система может хранить и отображать расширяемые поля прозрачности (Extensible Transparency Payload) с `source/visibility/data_type/evidence`.

### Перехват consumer-intent (SEO клапан)

- FR21 [P1]: Посетитель, пришедший по intent “проверить акцизную марку онлайн”, может открыть перехватывающую страницу, которая направляет к Diia как к официальному consumer-check.
- FR22 [P1]: На перехватывающей странице посетитель может увидеть B2B CTA (внедрение маркировки/данных/прозрачности genu.mark) без имитации гос-сервиса.

### Лидогенерация и партнерский пресейл

- FR23 [P1]: Посетитель может отправить запрос (demo/request) с минимально достаточной квалификацией: контакт + сценарий + контекст.
- FR24 [P1]: Система может классифицировать входящий запрос по сценарию (eAkciz / voluntary / партнер по оборудованию).
- FR25 [P1]: Партнер по оборудованию может использовать витрину и deep-link результаты как пресейл-артефакт (пересылка ссылок).

### Knowledge Base (Epic 2a)

- FR26 [P2]: Посетитель может просматривать базу знаний по приоритетным кластерам (АЕД/УГІ/API/економічний оператор; маркировка алкоголя/тютюна; DataMatrix на линии).
- FR27 [P2]: Посетитель может открыть статью базы знаний и перейти к следующему шагу (CTA к запросу демо/контакта).
- FR28 [P2]: Система может поддерживать двуязычность (UK/EN) для базы знаний.

### Аналитика и наблюдаемость

- FR29 [P2]: Команда продукта может собирать события воронки витрины и демо (CTA, выбор сценария, просмотры примера, отправка формы).
- FR30 [P2]: Команда продукта может собирать события lookup и исходов (`in_genu_mark`/`not_in_genu_mark`) и взаимодействий с upsell CTA.
- FR31 [P2]: Команда продукта может формировать отчеты/воронки `landing → example → (return) → demo` и `not_in_genu_mark → enable`.

### Ограничение злоупотреблений (public lookup)

- FR32 [P3]: Система может ограничивать/блокировать аномальную активность запросов по коду (rate limiting / anti-enumeration) при включении реального API lookup.

## Non-Functional Requirements

### Performance

- NFR1: Lighthouse Performance >= 97 на mobile и desktop для ключевых страниц (`/`, `/v/`, `/v/genuim`, `/v/{code}` в mock режиме).
- NFR2: Core Web Vitals (75p): LCP < 2.5s, CLS < 0.1, INP < 200ms на mobile и desktop для ключевых страниц.
- NFR3: Страница не зависит от тяжелых библиотек; JS ограничен минимально необходимым для i18n/theme/menu/lookup mock и не должен доминировать над критическим контентом.
- NFR4: Любые изображения/медиа оптимизированы; layout стабилен (без скачков при загрузке), чтобы не подрывать доверие в “первом экране”.

### Accessibility

- NFR5: WCAG 2.1 AA MUST.
- NFR6: Lighthouse Accessibility >= 97 MUST.
- NFR7: Полная клавиатурная доступность ключевых flows (переключатели, форма, `/v/` ввод, CTA), видимый focus и корректные aria-атрибуты.

### SEO & Indexability

- NFR8: Все индексируемые страницы имеют корректные meta title/description, canonical, hreflang UK/EN, OG/Twitter, JSON-LD, sitemap.xml и robots.txt.
- NFR9: Consumer-intent “проверить акцизную марку онлайн” обрабатывается перехватывающей страницей, которая направляет к Diia как к официальному consumer-check и дает B2B CTA без гос-мимикрии.

### Security / Abuse (Public Lookup readiness)

- NFR10: Реальный public lookup (Phase 3) защищен rate limiting; система деградирует нейтрально при превышении лимитов и не раскрывает лишнего в ответах.
- NFR11: Ввод кода валидируется/нормализуется; логирование и аналитика не должны утекать код/PII в сторонние системы.
- NFR12: HTTPS only; базовые security headers включены для статики.

### Privacy

- NFR13: Analytics события (Phase 2) не содержат PII; лид-форма собирает минимум данных.

### Compatibility

- NFR14: Must-support: Chrome/Edge/Firefox. Неподдерживаемые браузеры деградируют предсказуемо (нет сломанного UX на ключевых страницах).

### Hosting / Delivery (Future migration)

- NFR15: Доставка контента через edge с HTTP/3 между пользователем и edge обязательна; HTTP/3 доступен на Cloudflare Free и включается как настройка протокола (user <-> Cloudflare). https://developers.cloudflare.com/speed/optimization/protocol/http3/
- NFR16: Целевая платформа для статической витрины должна иметь бесплатный уровень и достаточные лимиты; Cloudflare Pages Free: 500 builds/month, unlimited static requests/bandwidth, лимиты файлов/размера учитывать. https://pages.cloudflare.com/#pricing https://developers.cloudflare.com/pages/platform/limits/
